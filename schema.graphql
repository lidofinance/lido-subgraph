"""
Lido
"""
type LidoStopped @entity {
  id: ID!
  blocktime: BigInt!
}

type LidoResumed @entity {
  id: ID!
  blocktime: BigInt!
}

type LidoTransfer @entity {
  id: ID!
  from: Bytes!
  to: Bytes!
  value: BigInt!
  shares: BigDecimal!
  block: BigInt!
  blockTime: BigInt!
  transactionHash: String!
}

type LidoApproval @entity {
  id: ID!
  owner: Bytes!
  spender: Bytes!
  value: BigInt!
}

type LidoFee @entity {
  id: ID!
  feeBasisPoints: Int!
}

type LidoFeeDistribution @entity {
  id: ID!
  treasuryFeeBasisPoints: Int!
  insuranceFeeBasisPoints: Int!
  operatorsFeeBasisPoints: Int!
}

type LidoWithdrawalCredential @entity {
  id: ID!
  withdrawalCredentials: Bytes!
}

type LidoSubmission @entity {
  id: ID!
  sender: Bytes!
  amount: BigInt!
  referral: Bytes!
  blockTime: BigInt!
}

type LidoUnbuffered @entity {
  id: ID!
  amount: BigInt!
}

type LidoWithdrawal @entity {
  id: ID!
  sender: Bytes!
  tokenAmount: BigInt!
  sentFromBuffer: BigInt!
  pubkeyHash: Bytes!
  etherAmount: BigInt!
}

type TotalReward @entity {
  id: ID!
  totalRewards: BigDecimal
  totalRewardsWithFees: BigDecimal
  insuranceFee: BigDecimal
  treasuryFee: BigDecimal
  totalFee: BigDecimal
  dust: BigInt
  nodeOperatorFees: [NodeOperatorFees!] @derivedFrom(field: "totalReward")
  block: BigInt!
  blockTime: BigInt!
}

type NodeOperatorFees @entity {
  id: ID!
  totalReward: TotalReward!
  address: String!
  fee: BigInt!
}

"""
LidoOracle
"""
type OracleCompleted @entity {
  id: ID!
  epochId: BigInt!
  beaconBalance: BigInt!
  beaconValidators: BigInt!
  block: BigInt!
  blockTime: BigInt!
}

type OracleMember @entity {
  id: ID!
  member: Bytes!
  removed: Boolean!
}

type OracleQuorumChange @entity {
  id: ID!
  quorum: BigInt!
}

type SharesToStethRatio @entity {
  id: ID!
  totalShares: BigInt!
  pooledEth: BigInt!
  ratio: BigDecimal!
  block: BigInt!
  blockTime: BigInt!
}

type OracleVersion @entity {
  id: ID!
  version: BigInt!
  block: BigInt!
}

type AllowedBeaconBalanceRelativeDecrease @entity {
  id: ID!
  value: BigInt!
}

type AllowedBeaconBalanceAnnualRelativeIncrease @entity {
  id: ID!
  value: BigInt!
}

type OracleExpectedEpoch @entity {
  id: ID!
  epochId: BigInt!
}

type OracleTotalShares @entity {
  id: ID!
  postTotalPooledEther: BigInt!
  preTotalPooledEther: BigInt!
  timeElapsed: BigInt!
  totalShares: BigInt!
}

type BeaconReport @entity {
  id: ID!
  epochId: BigInt!
  beaconBalance: BigInt!
  beaconValidators: BigInt!
  caller: Bytes!
}

type BeaconSpec @entity {
  id: ID!
  epochsPerFrame: BigInt!
  slotsPerEpoch: BigInt!
  secondsPerSlot: BigInt!
  genesisTime: BigInt!
}

type BeaconReportReceiver @entity {
  id: ID!
  callback: Bytes!
}

"""
NodeOperatorsRegistry
"""
type NodeOperatorSigningKey @entity {
  id: ID!
  operatorId: BigInt!
  pubkey: Bytes!
  removed: Boolean!
}

type NodeOperator @entity {
  id: ID!
  name: String!
  rewardAddress: Bytes!
  stakingLimit: BigInt!
  active: Boolean!
  totalStoppedValidators: BigInt
}

"""
Voting
"""
type Voting @entity {
  id: ID!
  index: Int!
  creator: Bytes!
  metadata: String!
  executed: Boolean!
  votes: [Vote!]! @derivedFrom(field: "voting")
}

type Vote @entity {
  id: ID!
  voting: Voting!
  voter: Bytes!
  supports: Boolean!
  stake: BigInt!
}

type ChangedSupportRequired @entity {
  id: ID!
  supportRequiredPct: BigInt!
}

type ChangedMinQuorum @entity {
  id: ID!
  minAcceptQuorumPct: BigInt!
}
